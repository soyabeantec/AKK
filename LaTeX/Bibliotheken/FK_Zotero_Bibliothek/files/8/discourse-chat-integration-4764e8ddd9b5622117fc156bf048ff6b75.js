define("discourse/plugins/discourse-chat-integration/admin/chat-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={resource:"admin.adminPlugins",path:"/plugins",map:function(){this.route("chat",function(){this.route("provider",{path:"/:provider"})})}}}),define("discourse/plugins/discourse-chat-integration/admin/adapters/provider",["exports","admin/adapters/build-plugin"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(0,t.default)("chat")}),define("discourse/plugins/discourse-chat-integration/admin/adapters/channel",["exports","admin/adapters/build-plugin"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(0,t.default)("chat")}),define("discourse/plugins/discourse-chat-integration/admin/adapters/rule",["exports","admin/adapters/build-plugin"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(0,t.default)("chat")}),define("discourse/plugins/discourse-chat-integration/admin/models/provider",["exports","discourse/models/rest"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({})}),define("discourse/plugins/discourse-chat-integration/admin/models/channel",["exports","discourse/models/rest"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({updateProperties:function(){return this.getProperties(["data"])},createProperties:function(){return this.getProperties(["provider","data"])}})}),define("discourse/plugins/discourse-chat-integration/admin/models/rule",["exports","discourse/models/rest","discourse/models/category","ember-addons/ember-computed-decorators"],function(e,t,n,a){"use strict";function i(e,t,n,a,i){var l={};return Object.keys(a).forEach(function(e){l[e]=a[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l}Object.defineProperty(e,"__esModule",{value:!0});var l,r,o,s;e.default=t.default.extend((l=(0,a.observes)("type"),r=(0,a.default)("category_id"),o=(0,a.default)("filter"),s={available_filters:[{id:"watch",name:I18n.t("chat_integration.filter.watch"),icon:"exclamation-circle"},{id:"follow",name:I18n.t("chat_integration.filter.follow"),icon:"circle"},{id:"mute",name:I18n.t("chat_integration.filter.mute"),icon:"times-circle"}],available_types:[{id:"normal",name:I18n.t("chat_integration.type.normal")},{id:"group_message",name:I18n.t("chat_integration.type.group_message")},{id:"group_mention",name:I18n.t("chat_integration.type.group_mention")}],category_id:null,tags:null,channel_id:null,filter:"watch",type:"normal",error_key:null,removeUnneededInfo:function(){"normal"===this.get("type")?this.set("group_id",null):this.set("category_id",null)},category:function(e){return!!e&&n.default.findById(e)},filterName:function(e){return I18n.t("chat_integration.filter."+e)},updateProperties:function(){return this.getProperties(["type","category_id","group_id","tags","filter"])},createProperties:function(){return this.getProperties(["type","channel_id","category_id","group_id","tags","filter"])}},i(s,"removeUnneededInfo",[l],Object.getOwnPropertyDescriptor(s,"removeUnneededInfo"),s),i(s,"category",[r],Object.getOwnPropertyDescriptor(s,"category"),s),i(s,"filterName",[o],Object.getOwnPropertyDescriptor(s,"filterName"),s),s))}),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-index",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Discourse.Route.extend({afterModel:function(e){e.totalRows>0&&this.transitionTo("adminPlugins.chat.provider",e.get("firstObject").name)}})}),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Discourse.Route.extend({model:function(){return this.store.findAll("provider")},actions:{showSettings:function(){this.transitionTo("adminSiteSettingsCategory","plugins",{queryParams:{filter:"chat_integration"}})}}})}),define("discourse/plugins/discourse-chat-integration/admin/routes/admin-plugins-chat-provider",["exports","discourse/models/group"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Discourse.Route.extend({model:function(e){var n=this;return Ember.RSVP.hash({channels:this.store.findAll("channel",{provider:e.provider}),provider:this.modelFor("admin-plugins-chat").findBy("id",e.provider),groups:t.default.findAll().then(function(e){return e.filter(function(e){return!e.get("automatic")})})}).then(function(e){return e.channels.forEach(function(e){e.set("rules",e.rules.map(function(t){return t=n.store.createRecord("rule",t),t.channel=e,t}))}),e})},serialize:function(e){return{provider:e.provider.get("id")}},actions:{closeModal:function(){return this.get("controller.modalShowing")&&(this.refresh(),this.set("controller.modalShowing",!1)),!0},refreshProvider:function(){this.refresh()}}})}),define("discourse/plugins/discourse-chat-integration/admin/components/channel-data",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["channel-info"]})}),define("discourse/plugins/discourse-chat-integration/admin/components/channel-details",["exports","discourse/lib/ajax-error"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:["channel-details"],actions:{deleteChannel:function(e){var n=this;bootbox.confirm(I18n.t("chat_integration.channel_delete_confirm"),I18n.t("no_value"),I18n.t("yes_value"),function(a){a&&e.destroyRecord().then(function(){return n.refresh()}).catch(t.popupAjaxError)})},editRule:function(e){this.editRuleWithChannel(e,this.get("channel"))}}})}),define("discourse/plugins/discourse-chat-integration/admin/components/rule-row",["exports","discourse/lib/ajax-error","ember-addons/ember-computed-decorators"],function(e,t,n){"use strict";function a(e,t,n,a,i){var l={};return Object.keys(a).forEach(function(e){l[e]=a[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l}Object.defineProperty(e,"__esModule",{value:!0});var i,l,r,o;e.default=Ember.Component.extend((i=(0,n.default)("rule.type"),l=(0,n.default)("rule.type"),r=(0,n.default)("rule.type"),o={tagName:"tr",isCategory:function(e){return"normal"===e},isMessage:function(e){return"group_message"===e},isMention:function(e){return"group_mention"===e},actions:{delete:function(e){var n=this;e.destroyRecord().then(function(){return n.refresh()}).catch(t.popupAjaxError)}}},a(o,"isCategory",[i],Object.getOwnPropertyDescriptor(o,"isCategory"),o),a(o,"isMessage",[l],Object.getOwnPropertyDescriptor(o,"isMessage"),o),a(o,"isMention",[r],Object.getOwnPropertyDescriptor(o,"isMention"),o),o))}),define("discourse/plugins/discourse-chat-integration/admin/controllers/admin-plugins-chat",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend({})}),define("discourse/plugins/discourse-chat-integration/admin/controllers/admin-plugins-chat-provider",["exports","discourse/lib/show-modal","ember-addons/ember-computed-decorators"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i;e.default=Ember.Controller.extend((a=(0,n.default)("model.channels"),i={modalShowing:!1,anyErrors:function(e){var t=!1;return e.forEach(function(e){e.error_key&&(t=!0)}),t},actions:{createChannel:function(){this.set("modalShowing",!0);var e={channel:this.store.createRecord("channel",{provider:this.get("model.provider.id"),data:{}}),provider:this.get("model.provider")};(0,t.default)("admin-plugins-chat-edit-channel",{model:e,admin:!0})},editChannel:function(e){this.set("modalShowing",!0);var n={channel:e,provider:this.get("model.provider")};(0,t.default)("admin-plugins-chat-edit-channel",{model:n,admin:!0})},testChannel:function(e){this.set("modalShowing",!0),(0,t.default)("admin-plugins-chat-test",{model:{channel:e},admin:!0})},createRule:function(e){this.set("modalShowing",!0);var n={rule:this.store.createRecord("rule",{channel_id:e.id}),channel:e,provider:this.get("model.provider"),groups:this.get("model.groups")};(0,t.default)("admin-plugins-chat-edit-rule",{model:n,admin:!0})},editRuleWithChannel:function(e,n){this.set("modalShowing",!0);var a={rule:e,channel:n,provider:this.get("model.provider"),groups:this.get("model.groups")};(0,t.default)("admin-plugins-chat-edit-rule",{model:a,admin:!0})},showError:function(e){this.set("modalShowing",!0),(0,t.default)("admin-plugins-chat-channel-error",{model:e,admin:!0})}}},function(e,t,n,a,i){var l={};return Object.keys(a).forEach(function(e){l[e]=a[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l}(i,"anyErrors",[a],Object.getOwnPropertyDescriptor(i,"anyErrors"),i),i))}),define("discourse/plugins/discourse-chat-integration/admin/controllers/modals/admin-plugins-chat-test",["exports","discourse/mixins/modal-functionality","discourse/lib/ajax","discourse/lib/ajax-error","ember-addons/ember-computed-decorators"],function(e,t,n,a,i){"use strict";function l(e,t,n,a,i){var l={};return Object.keys(a).forEach(function(e){l[e]=a[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l}Object.defineProperty(e,"__esModule",{value:!0});var r,o,s;e.default=Ember.Controller.extend(t.default,(r=(0,i.on)("init"),o=(0,i.default)("model.topic_id"),s={setupKeydown:function(){var e=this;Ember.run.schedule("afterRender",function(){$("#chat_integration_test_modal").keydown(function(t){13===t.keyCode&&e.send("send")})})},sendDisabled:function(e){return!e},actions:{send:function(){var e=this;this.get("sendDisabled")||(this.set("loading",!0),(0,n.ajax)("/admin/plugins/chat/test",{data:{channel_id:this.get("model.channel.id"),topic_id:this.get("model.topic_id")},type:"POST"}).then(function(){e.set("loading",!1),e.flash(I18n.t("chat_integration.test_modal.success"),"success")}).catch(a.popupAjaxError))}}},l(s,"setupKeydown",[r],Object.getOwnPropertyDescriptor(s,"setupKeydown"),s),l(s,"sendDisabled",[o],Object.getOwnPropertyDescriptor(s,"sendDisabled"),s),s))}),define("discourse/plugins/discourse-chat-integration/admin/controllers/modals/admin-plugins-chat-edit-channel",["exports","discourse/mixins/modal-functionality","discourse/lib/ajax-error","discourse/models/input-validation","ember-addons/ember-computed-decorators"],function(e,t,n,a,i){"use strict";function l(e,t,n,a,i){var l={};return Object.keys(a).forEach(function(e){l[e]=a[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l}Object.defineProperty(e,"__esModule",{value:!0});var r,o,s,c;e.default=Ember.Controller.extend(t.default,(r=(0,i.on)("init"),o=(0,i.observes)("model"),s=(0,i.default)("paramValidation"),c={setupKeydown:function(){var e=this;Ember.run.schedule("afterRender",function(){$("#chat-integration-edit-channel-modal").keydown(function(t){13===t.keyCode&&e.send("save")})})},setupValidations:function(){if(this.get("model.provider")){var e=this.get("model.provider.channel_parameters").map(function(e){return e.key});Ember.defineProperty(this,"paramValidation",Ember.computed("model.channel.data.{"+e.join(",")+"}",this._paramValidation))}},validate:function(e){var t=e.regex,n=new RegExp(t),i=this.get("model.channel.data."+e.key);return void 0===i&&(i=""),""===i?a.default.create({failed:!0}):t?n.test(i)?a.default.create({ok:!0,reason:I18n.t("chat_integration.edit_channel_modal.channel_validation.ok")}):a.default.create({failed:!0,reason:I18n.t("chat_integration.edit_channel_modal.channel_validation.fail")}):a.default.create({ok:!0})},_paramValidation:function(){var e=this,t={};return this.get("model.provider.channel_parameters").forEach(function(n){t[n.key]=e.validate(n)}),t},saveDisabled:function(e){if(!e)return!0;var t=!1;return Object.keys(e).forEach(function(n){e[n]||(t=!0),e[n].ok||(t=!0)}),t},actions:{cancel:function(){this.send("closeModal")},save:function(){var e=this;this.get("saveDisabled")||this.get("model.channel").save().then(function(){e.send("closeModal")}).catch(n.popupAjaxError)}}},l(c,"setupKeydown",[r],Object.getOwnPropertyDescriptor(c,"setupKeydown"),c),l(c,"setupValidations",[o],Object.getOwnPropertyDescriptor(c,"setupValidations"),c),l(c,"saveDisabled",[s],Object.getOwnPropertyDescriptor(c,"saveDisabled"),c),c))}),define("discourse/plugins/discourse-chat-integration/admin/controllers/modals/admin-plugins-chat-edit-rule",["exports","discourse/mixins/modal-functionality","discourse/lib/ajax-error","ember-addons/ember-computed-decorators"],function(e,t,n,a){"use strict";function i(e,t,n,a,i){var l={};return Object.keys(a).forEach(function(e){l[e]=a[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},l),i&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(i):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l}Object.defineProperty(e,"__esModule",{value:!0});var l,r,o;e.default=Ember.Controller.extend(t.default,(l=(0,a.on)("init"),r=(0,a.default)("model.rule.type"),o={saveDisabled:!1,setupKeydown:function(){var e=this;Ember.run.schedule("afterRender",function(){$("#chat-integration-edit-channel-modal").keydown(function(t){13===t.keyCode&&e.send("save")})})},showCategory:function(e){return"normal"===e},actions:{save:function(e){var t=this;this.get("saveDisabled")||e.save().then(function(){return t.send("closeModal")}).catch(n.popupAjaxError)}}},i(o,"setupKeydown",[l],Object.getOwnPropertyDescriptor(o,"setupKeydown"),o),i(o,"showCategory",[r],Object.getOwnPropertyDescriptor(o,"showCategory"),o),o))}),Ember.TEMPLATES["javascripts/admin/templates/modal/admin-plugins-chat-edit-channel"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["param"],"statements":[[4,"d-modal-body",null,[["id","title"],["chat-integration-edit-channel-modal","chat_integration.edit_channel_modal.title"]],{"statements":[[0,"  "],[7,"div"],[9],[0,"\\n    "],[7,"form"],[9],[0,"\\n      "],[7,"table"],[9],[0,"\\n\\n        "],[7,"tr"],[11,"class","input"],[9],[0,"\\n          "],[7,"td"],[11,"class","label"],[9],[7,"label"],[11,"for","provider"],[9],[1,[29,"i18n",["chat_integration.edit_channel_modal.provider"],null],false],[10],[10],[0,"\\n          "],[7,"td"],[9],[0,"\\n            "],[1,[29,"i18n",[[29,"concat",["chat_integration.provider.",[25,["model","channel","provider"]],".title"],null]],null],false],[0,"\\n          "],[10],[0,"\\n        "],[10],[0,"\\n        "],[7,"tr"],[11,"class","instructions"],[9],[0,"\\n          "],[7,"td"],[9],[10],[0,"\\n          "],[7,"td"],[9],[10],[0,"\\n        "],[10],[0,"\\n\\n"],[4,"each",[[25,["model","provider","channel_parameters"]]],null,{"statements":[[0,"          "],[7,"tr"],[11,"class","input"],[9],[0,"\\n            "],[7,"td"],[11,"class","label"],[9],[7,"label"],[12,"for",[30,["param-",[24,1,["key"]]]]],[9],[1,[29,"i18n",[[29,"concat",["chat_integration.provider.",[25,["model","channel","provider"]],".param.",[24,1,["key"]],".title"],null]],null],false],[10],[10],[0,"\\n            "],[7,"td"],[9],[0,"\\n              "],[1,[29,"text-field",null,[["name","value"],[[29,"concat",["param-",[24,1,["key"]]],null],[29,"mut",[[29,"get",[[25,["model","channel","data"]],[24,1,["key"]]],null]],null]]]],false],[0,"\\n\\n               \\n"],[4,"if",[[29,"get",[[25,["model","channel","data"]],[24,1,["key"]]],null]],null,{"statements":[[0,"                "],[1,[29,"input-tip",null,[["validation"],[[29,"get",[[25,["paramValidation"]],[24,1,["key"]]],null]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"            "],[10],[0,"\\n          "],[10],[0,"\\n          "],[7,"tr"],[11,"class","instructions"],[9],[0,"\\n            "],[7,"td"],[9],[10],[0,"\\n            "],[7,"td"],[9],[7,"label"],[9],[1,[29,"i18n",[[29,"concat",["chat_integration.provider.",[25,["model","channel","provider"]],".param.",[24,1,["key"]],".help"],null]],null],false],[10],[10],[0,"\\n          "],[10],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[10],[0,"\\n\\n    "],[3,"action",[[24,0,[]],"save"],[["on"],["submit"]]],[10],[0,"\\n  "],[10],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"div"],[11,"class","modal-footer"],[9],[0,"\\n  "],[1,[29,"d-button",null,[["id","class","action","title","label","disabled"],["save-channel","btn-primary btn-large","save","chat_integration.edit_channel_modal.save","chat_integration.edit_channel_modal.save",[25,["saveDisabled"]]]]],false],[0,"\\n\\n  "],[1,[29,"d-button",null,[["class","action","title","label"],["btn-large","cancel","chat_integration.edit_channel_modal.cancel","chat_integration.edit_channel_modal.cancel"]]],false],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/admin/templates/modal/admin-plugins-chat-edit-channel"}}),Ember.TEMPLATES["javascripts/admin/templates/modal/admin-plugins-chat-channel-error"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-modal-body",null,[["id"],["chat_integration_error_modal"]],{"statements":[[0,"    "],[7,"h4"],[9],[1,[29,"i18n",[[25,["model","error_key"]]],null],false],[10],[0,"\\n    "],[7,"pre"],[9],[1,[25,["model","error_info"]],false],[10],[0,""]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/admin/templates/modal/admin-plugins-chat-channel-error"}}),Ember.TEMPLATES["javascripts/admin/templates/modal/admin-plugins-chat-test"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-modal-body",null,[["id","title"],["chat_integration_test_modal","chat_integration.test_modal.title"]],{"statements":[[0,"  "],[7,"div"],[9],[0,"\\n    "],[7,"form"],[9],[0,"\\n      "],[7,"table"],[9],[0,"\\n        "],[7,"tr"],[11,"class","input"],[9],[0,"\\n          "],[7,"td"],[11,"class","label"],[9],[7,"label"],[11,"for","channel"],[9],[1,[29,"i18n",["chat_integration.test_modal.topic"],null],false],[10],[10],[0,"\\n          "],[7,"td"],[9],[0,"\\n            "],[1,[29,"choose-topic",null,[["selectedTopicId"],[[25,["model","topic_id"]]]]],false],[0,"\\n          "],[10],[0,"\\n        "],[10],[0,"\\n      "],[10],[0,"\\n    "],[3,"action",[[24,0,[]],"send"],[["on"],["submit"]]],[10],[0,"\\n  "],[10],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"div"],[11,"class","modal-footer"],[9],[0,"\\n"],[4,"conditional-loading-spinner",null,[["condition"],[[25,["loading"]]]],{"statements":[[0,"    "],[1,[29,"d-button",null,[["id","class","action","title","label","disabled"],["send-test","btn-primary btn-large",[29,"action",[[24,0,[]],"send"],null],"chat_integration.test_modal.send","chat_integration.test_modal.send",[25,["sendDisabled"]]]]],false],[0,"\\n\\n    "],[1,[29,"d-button",null,[["class","action","title","label"],["btn-large",[29,"route-action",["closeModal"],null],"chat_integration.test_modal.close","chat_integration.test_modal.close"]]],false],[0,"\\n"]],"parameters":[]},null],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/admin/templates/modal/admin-plugins-chat-test"}}),Ember.TEMPLATES["javascripts/admin/templates/modal/admin-plugins-chat-edit-rule"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-modal-body",null,[["id","title"],["chat-integration-edit-rule_modal","chat_integration.edit_rule_modal.title"]],{"statements":[[0,"  "],[7,"div"],[9],[0,"\\n    "],[7,"form"],[9],[0,"\\n      "],[7,"table"],[9],[0,"\\n\\n        "],[7,"tr"],[11,"class","input"],[9],[0,"\\n          "],[7,"td"],[11,"class","label"],[9],[7,"label"],[11,"for","provider"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.provider"],null],false],[10],[10],[0,"\\n          "],[7,"td"],[9],[0,"\\n            "],[1,[29,"i18n",[[29,"concat",["chat_integration.provider.",[25,["model","channel","provider"]],".title"],null]],null],false],[0,"\\n          "],[10],[0,"\\n        "],[10],[0,"\\n        "],[7,"tr"],[11,"class","instructions"],[9],[0,"\\n          "],[7,"td"],[9],[10],[0,"\\n          "],[7,"td"],[9],[10],[0,"\\n        "],[10],[0,"\\n\\n        "],[7,"tr"],[11,"class","input"],[9],[0,"\\n          "],[7,"td"],[11,"class","label"],[9],[7,"label"],[11,"for","channel"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.channel"],null],false],[10],[10],[0,"\\n          "],[7,"td"],[9],[0,"\\n            "],[1,[29,"channel-data",null,[["provider","channel"],[[25,["model","provider"]],[25,["model","channel"]]]]],false],[0,"\\n          "],[10],[0,"\\n        "],[10],[0,"\\n        "],[7,"tr"],[11,"class","instructions"],[9],[0,"\\n          "],[7,"td"],[9],[10],[0,"\\n          "],[7,"td"],[9],[10],[0,"\\n        "],[10],[0,"\\n\\n        "],[7,"tr"],[11,"class","input"],[9],[0,"\\n          "],[7,"td"],[11,"class","label"],[9],[7,"label"],[11,"for","filter"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.type"],null],false],[10],[10],[0,"\\n          "],[7,"td"],[9],[0,"\\n            "],[1,[29,"combo-box",null,[["name","content","value"],["type",[25,["model","rule","available_types"]],[25,["model","rule","type"]]]]],false],[0,"\\n          "],[10],[0,"\\n        "],[10],[0,"\\n        "],[7,"tr"],[11,"class","instructions"],[9],[0,"\\n          "],[7,"td"],[9],[10],[0,"\\n          "],[7,"td"],[9],[7,"label"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.instructions.type"],null],false],[10],[10],[0,"\\n        "],[10],[0,"\\n\\n        "],[7,"tr"],[11,"class","input"],[9],[0,"\\n          "],[7,"td"],[11,"class","label"],[9],[7,"label"],[11,"for","filter"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.filter"],null],false],[10],[10],[0,"\\n          "],[7,"td"],[9],[0,"\\n            "],[1,[29,"combo-box",null,[["name","content","value"],["filter",[25,["model","rule","available_filters"]],[25,["model","rule","filter"]]]]],false],[0,"\\n          "],[10],[0,"\\n        "],[10],[0,"\\n        "],[7,"tr"],[11,"class","instructions"],[9],[0,"\\n          "],[7,"td"],[9],[10],[0,"\\n          "],[7,"td"],[9],[7,"label"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.instructions.filter"],null],false],[10],[10],[0,"\\n        "],[10],[0,"\\n\\n"],[4,"if",[[25,["showCategory"]]],null,{"statements":[[0,"          "],[7,"tr"],[11,"class","input"],[9],[0,"\\n            "],[7,"td"],[11,"class","label"],[9],[7,"label"],[11,"for","category"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.category"],null],false],[10],[10],[0,"\\n            "],[7,"td"],[9],[0,"\\n              "],[1,[29,"category-chooser",null,[["name","value","rootNoneLabel","rootNone","overrideWidths"],["category",[25,["model","rule","category_id"]],"chat_integration.all_categories",true,false]]],false],[0,"\\n            "],[10],[0,"\\n          "],[10],[0,"\\n          "],[7,"tr"],[11,"class","instructions"],[9],[0,"\\n            "],[7,"td"],[9],[10],[0,"\\n            "],[7,"td"],[9],[7,"label"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.instructions.category"],null],false],[10],[10],[0,"\\n          "],[10],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[7,"tr"],[11,"class","input"],[9],[0,"\\n            "],[7,"td"],[11,"class","label"],[9],[7,"label"],[11,"for","group"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.group"],null],false],[10],[10],[0,"\\n            "],[7,"td"],[9],[0,"\\n              "],[1,[29,"combo-box",null,[["content","valueAttribute","value","none"],[[25,["model","groups"]],"id",[25,["model","rule","group_id"]],"chat_integration.choose_group"]]],false],[0,"\\n            "],[10],[0,"\\n          "],[10],[0,"\\n          "],[7,"tr"],[11,"class","instructions"],[9],[0,"\\n            "],[7,"td"],[9],[10],[0,"\\n            "],[7,"td"],[9],[7,"label"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.instructions.group"],null],false],[10],[10],[0,"\\n          "],[10],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[4,"if",[[25,["siteSettings","tagging_enabled"]]],null,{"statements":[[0,"          "],[7,"tr"],[11,"class","input"],[9],[0,"\\n            "],[7,"td"],[11,"class","label"],[9],[7,"label"],[11,"for","tags"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.tags"],null],false],[10],[10],[0,"\\n            "],[7,"td"],[9],[0,"\\n              "],[1,[29,"tag-chooser",null,[["placeholderKey","name","tags"],["chat_integration.all_tags","tags",[25,["model","rule","tags"]]]]],false],[0,"\\n            "],[10],[0,"\\n          "],[10],[0,"\\n          "],[7,"tr"],[11,"class","instructions"],[9],[0,"\\n            "],[7,"td"],[9],[10],[0,"\\n            "],[7,"td"],[9],[7,"label"],[9],[1,[29,"i18n",["chat_integration.edit_rule_modal.instructions.tags"],null],false],[10],[10],[0,"\\n          "],[10],[0,"\\n"]],"parameters":[]},null],[0,"\\n      "],[10],[0,"\\n\\n    "],[3,"action",[[24,0,[]],"save"],[["on"],["submit"]]],[10],[0,"\\n  "],[10],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"div"],[11,"class","modal-footer"],[9],[0,"\\n  "],[1,[29,"d-button",null,[["id","class","action","actionParam","title","label","disabled"],["save-rule","btn-primary btn-large","save",[25,["model","rule"]],"chat_integration.edit_rule_modal.save","chat_integration.edit_rule_modal.save",[25,["saveDisabled"]]]]],false],[0,"\\n\\n  "],[1,[29,"d-button",null,[["class","action","title","label"],["btn-large",[29,"route-action",["closeModal"],null],"chat_integration.edit_rule_modal.cancel","chat_integration.edit_rule_modal.cancel"]]],false],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/admin/templates/modal/admin-plugins-chat-edit-rule"}}),define("discourse/plugins/discourse-chat-integration/discourse/public-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.route("transcript",{path:"/chat-transcript/:secret"})}}),define("discourse/plugins/discourse-chat-integration/discourse/routes/transcript",["exports","discourse/lib/ajax","discourse/lib/ajax-error"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Discourse.Route.extend({beforeModel:function(e){var a=this;if(this.currentUser){var i=e.params.transcript.secret;this.replaceWith("discovery.latest").then(function(e){a.controllerFor("navigation/default").get("canCreateTopic")&&Ember.run.next(function(){(0,t.ajax)("chat-transcript/"+i).then(function(t){e.send("createNewTopicViaParams",null,t.content,null,null,null)},n.popupAjaxError)})})}else this.session.set("shouldRedirectToUrl",window.location.href),this.replaceWith("login")}})}),Ember.TEMPLATES["javascripts/components/channel-details"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["rule"],"statements":[[7,"div"],[11,"class","channel-header"],[9],[0,"\\n  "],[7,"div"],[11,"class","pull-right"],[9],[0,"\\n    "],[1,[29,"d-button",null,[["action","actionParam","icon","title","label"],[[25,["editChannel"]],[25,["channel"]],"pencil-alt","chat_integration.edit_channel","chat_integration.edit_channel"]]],false],[0,"\\n\\n    "],[1,[29,"d-button",null,[["action","actionParam","icon","title","label","class"],[[25,["test"]],[25,["channel"]],"rocket","chat_integration.test_channel","chat_integration.test_channel","btn-chat-test"]]],false],[0,"\\n\\n    "],[1,[29,"d-button",null,[["class","action","actionParam","icon","title","label"],["cancel",[29,"action",[[24,0,[]],"deleteChannel"],null],[25,["channel"]],"trash-alt","chat_integration.delete_channel","chat_integration.delete_channel"]]],false],[0,"\\n  "],[10],[0,"\\n\\n  "],[7,"span"],[11,"class","channel-title"],[9],[0,"\\n"],[4,"if",[[25,["channel","error_key"]]],null,{"statements":[[0,"      "],[1,[29,"d-button",null,[["action","actionParam","class","icon"],[[25,["showError"]],[25,["channel"]],"delete btn-danger","exclamation-triangle"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n    "],[1,[29,"channel-data",null,[["provider","channel"],[[25,["provider"]],[25,["channel"]]]]],false],[0,"\\n  "],[10],[0,"\\n"],[10],[0,"\\n\\n"],[7,"div"],[11,"class","channel-body"],[9],[0,"\\n  "],[7,"table"],[9],[0,"\\n    "],[7,"tr"],[9],[0,"\\n      "],[7,"th"],[9],[1,[29,"i18n",["chat_integration.rule_table.filter"],null],false],[10],[0,"\\n      "],[7,"th"],[9],[1,[29,"i18n",["chat_integration.rule_table.category"],null],false],[10],[0,"\\n\\n"],[4,"if",[[25,["siteSettings","tagging_enabled"]]],null,{"statements":[[0,"        "],[7,"th"],[9],[1,[29,"i18n",["chat_integration.rule_table.tags"],null],false],[10],[0,"\\n"]],"parameters":[]},null],[0,"\\n      "],[7,"th"],[9],[10],[0,"\\n    "],[10],[0,"\\n\\n"],[4,"each",[[25,["channel","rules"]]],null,{"statements":[[0,"      "],[1,[29,"rule-row",null,[["rule","edit","refresh"],[[24,1,[]],[29,"action",[[24,0,[]],"editRule"],null],[25,["refresh"]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"  "],[10],[0,"\\n"],[10],[0,"\\n\\n"],[7,"div"],[11,"class","channel-footer"],[9],[0,"\\n  "],[7,"div"],[11,"class","pull-right"],[9],[0,"\\n   "],[1,[29,"d-button",null,[["action","actionParam","icon","title","label"],[[25,["createRule"]],[25,["channel"]],"plus","chat_integration.create_rule","chat_integration.create_rule"]]],false],[0,"\\n  "],[10],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/components/channel-details"}}),Ember.TEMPLATES["javascripts/components/channel-data"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["param"],"statements":[[4,"each",[[25,["provider","channel_parameters"]]],null,{"statements":[[4,"unless",[[24,1,["hidden"]]],null,{"statements":[[0,"    "],[7,"span"],[11,"class","field-name"],[9],[0,"\\n      "],[1,[29,"i18n",[[29,"concat",["chat_integration.provider.",[25,["channel","provider"]],".param.",[24,1,["key"]],".title"],null]],null],false],[0,":\\n    "],[10],[0,"\\n    "],[7,"span"],[11,"class","field-value"],[9],[1,[29,"get",[[25,["channel","data"]],[24,1,["key"]]],null],false],[10],[0,"\\n    "],[7,"br"],[9],[10],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"javascripts/components/channel-data"}}),Ember.TEMPLATES["javascripts/components/rule-row"]=Ember.HTMLBars.template({id:null,
block:'{"symbols":[],"statements":[[7,"td"],[9],[0,"\\n  "],[1,[25,["rule","filterName"]],false],[0,"\\n"],[10],[0,"\\n\\n"],[7,"td"],[9],[0,"\\n"],[4,"if",[[25,["isCategory"]]],null,{"statements":[[4,"if",[[25,["rule","category"]]],null,{"statements":[[0,"      "],[1,[29,"category-link",[[25,["rule","category"]]],[["allowUncategorized","link"],["true","false"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[29,"i18n",["chat_integration.all_categories"],null],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[4,"if",[[25,["isMention"]]],null,{"statements":[[0,"    "],[1,[29,"i18n",["chat_integration.group_mention_template"],[["name"],[[25,["rule","group_name"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,["isMessage"]]],null,{"statements":[[0,"    "],[1,[29,"i18n",["chat_integration.group_message_template"],[["name"],[[25,["rule","group_name"]]]]],false],[0,"\\n  "]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]}],[10],[0,"\\n\\n\\n"],[4,"if",[[25,["siteSettings","tagging_enabled"]]],null,{"statements":[[0,"  "],[7,"td"],[9],[0,"\\n"],[4,"if",[[25,["rule","tags"]]],null,{"statements":[[0,"      "],[1,[25,["rule","tags"]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[29,"i18n",["chat_integration.all_tags"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[10],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"td"],[9],[0,"\\n  "],[1,[29,"d-button",null,[["action","actionParam","icon","class","title"],[[25,["edit"]],[25,["rule"]],"pencil-alt","edit","chat_integration.rule_table.edit_rule"]]],false],[0,"\\n\\n  "],[1,[29,"d-button",null,[["action","actionParam","icon","class","title"],[[29,"action",[[24,0,[]],"delete"],null],[25,["rule"]],"far-trash-alt","delete","chat_integration.rule_table.delete_rule"]]],false],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/components/rule-row"}}),Ember.TEMPLATES["javascripts/admin/plugins-chat"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["provider"],"statements":[[7,"div"],[11,"id","admin-plugin-chat"],[9],[0,"\\n  "],[7,"div"],[11,"class","admin-controls"],[9],[0,"\\n    "],[7,"div"],[11,"class","span15"],[9],[0,"\\n      "],[7,"ul"],[11,"class","nav nav-pills"],[9],[0,"\\n"],[4,"each",[[25,["model"]]],null,{"statements":[[0,"          "],[1,[29,"nav-item",null,[["route","routeParam","label"],["adminPlugins.chat.provider",[24,1,["name"]],[29,"concat",["chat_integration.provider.",[24,1,["name"]],".title"],null]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[10],[0,"\\n    "],[10],[0,"\\n\\n    "],[7,"div"],[11,"class","pull-right"],[9],[0,"\\n      "],[1,[29,"d-button",null,[["action","icon","title","label"],[[29,"route-action",["showSettings"],null],"cog","chat_integration.settings","chat_integration.settings"]]],false],[0,"\\n    "],[10],[0,"\\n  "],[10],[0,"\\n\\n"],[4,"unless",[[25,["model","totalRows"]]],null,{"statements":[[0,"    "],[1,[29,"i18n",["chat_integration.no_providers"],null],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n  "],[1,[23,"outlet"],false],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/admin/plugins-chat"}}),Ember.TEMPLATES["javascripts/admin/plugins-chat-provider"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["channel"],"statements":[[4,"if",[[25,["anyErrors"]]],null,{"statements":[[0,"  "],[7,"div"],[11,"class","error"],[9],[0,"\\n    "],[1,[29,"d-icon",["exclamation-triangle"],null],false],[0,"\\n    "],[7,"span"],[11,"class","error-message"],[9],[1,[29,"i18n",["chat_integration.channels_with_errors"],null],false],[10],[0,"\\n  "],[10],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"each",[[25,["model","channels"]]],null,{"statements":[[0,"  "],[1,[29,"channel-details",null,[["channel","provider","refresh","editChannel","test","createRule","editRuleWithChannel","showError"],[[24,1,[]],[25,["model","provider"]],[29,"route-action",["refreshProvider"],null],[29,"action",[[24,0,[]],"editChannel"],null],[29,"action",[[24,0,[]],"testChannel"],null],[29,"action",[[24,0,[]],"createRule"],null],[29,"action",[[24,0,[]],"editRuleWithChannel"],null],[29,"action",[[24,0,[]],"showError"],null]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"\\n"],[7,"div"],[11,"class","table-footer"],[9],[0,"\\n  "],[7,"div"],[11,"class","pull-right"],[9],[0,"\\n    "],[1,[29,"d-button",null,[["id","action","actionParam","icon","title","label"],["create-channel",[29,"action",[[24,0,[]],"createChannel"],null],[25,["model","provider"]],"plus","chat_integration.create_channel","chat_integration.create_channel"]]],false],[0,"\\n  "],[10],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/admin/plugins-chat-provider"}});
//# sourceMappingURL=https://sjc5.discourse-cdn.com/elastic/assets/plugins/discourse-chat-integration-4764e8ddd9b5622117fc156bf048ff6b7546c1b8aefca4143dafd77c536dd4ea.js.map