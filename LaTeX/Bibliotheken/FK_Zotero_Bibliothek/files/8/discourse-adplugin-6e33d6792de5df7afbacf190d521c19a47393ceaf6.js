define("discourse/plugins/discourse-adplugin/discourse/routes/admin-plugins-house-ads-show",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Discourse.Route.extend({model:function(e){return"new"===e.ad_id?Ember.Object.create({name:I18n.t("admin.adplugin.house_ads.new_name"),html:""}):this.modelFor("adminPlugins.houseAds").findBy("id",parseInt(e.ad_id,10))}})}),define("discourse/plugins/discourse-adplugin/discourse/routes/admin-plugins-house-ads",["exports","discourse/lib/ajax"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Discourse.Route.extend({settings:null,model:function(){var e=this;return(0,t.ajax)("/admin/plugins/adplugin/house_ads.json").then(function(t){return e.set("settings",Ember.Object.create(t.settings)),t.house_ads.map(function(e){return Ember.Object.create(e)})})},setupController:function(e,t){e.setProperties({model:t,houseAdsSettings:this.get("settings"),loadingAds:!1})}})}),define("discourse/plugins/discourse-adplugin/discourse/routes/admin-plugins-house-ads-index",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Discourse.Route.extend({actions:{moreSettings:function(){this.transitionTo("adminSiteSettingsCategory","ad_plugin")}}})}),define("discourse/plugins/discourse-adplugin/discourse/components/google-dfp-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","ember-addons/ember-computed-decorators","discourse/lib/load-script"],function(e,t,s,o){"use strict";function i(e,t,s,o,i){var a={};return Object.keys(o).forEach(function(e){a[e]=o[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function a(){return L++}function n(e){return e.substring(0,3).trim()}function r(e){return e.substring(4,7).trim()}function l(e){var t=e.replace(/ /g,"");return t=t.replace(/['"]+/g,""),t=t.split(",")}function d(e){var t=e;return t=t.replace(/['"]+/g,""),t=t.split("\n")}function u(e,t,s){for(var o=0;o<e.length;o++)e[o]&&s.setTargeting(e[o],l(t[o]))}function c(e,t,s){var o=void 0,i=void 0;o=s?x[e]:k[e],M[e]||(M[e]=0);var a=(t[o.sizes]||"").split("|");return 1===a.length?i=a[0]:(i=a[M[e]%a.length],M[e]+=1),{width:parseInt(n(i)),height:parseInt(r(i))}}function p(e,t,s,o,i,a,n){if(s.dfp_publisher_id){if(D[e])return D[e];var r=void 0,l=void 0,c=void 0;return o?(c=s.dfp_publisher_id_mobile||s.dfp_publisher_id,l=x[t]):(c=s.dfp_publisher_id,l=k[t]),r=window.googletag.defineSlot("/"+c+"/"+s[l.code],[i,a],e),u(d(s[l.targeting_keys]),d(s[l.targeting_values]),r),n&&r.setTargeting("discourse-category",n),r.addService(window.googletag.pubads()),D[e]={ad:r,width:i,height:a},D[e]}}function m(e){D[e]&&window.googletag&&(window.googletag.destroySlots([D[e].ad]),delete D[e])}function g(){if(T)return Ember.RSVP.resolve();if(A)return A;var e=("https:"===document.location.protocol?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";return A=(0,o.default)(e,{scriptTag:!0}).then(function(){T=!0,void 0===window.googletag&&console.log("googletag is undefined!"),window.googletag.cmd.push(function(){window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.enableServices()})}),window.googletag=window.googletag||{cmd:[]},A}Object.defineProperty(e,"__esModule",{value:!0});var _,b,h,f,v,w,y,S,P,z,E,O,j,T=!1,A=null,D={},L=1,M={},k={"topic-list-top":{code:"dfp_topic_list_top_code",sizes:"dfp_topic_list_top_ad_sizes",targeting_keys:"dfp_target_topic_list_top_key_code",targeting_values:"dfp_target_topic_list_top_value_code"},"topic-above-post-stream":{code:"dfp_topic_above_post_stream_code",sizes:"dfp_topic_above_post_stream_ad_sizes",targeting_keys:"dfp_target_topic_above_post_stream_key_code",targeting_values:"dfp_target_topic_above_post_stream_value_code"},"topic-above-suggested":{code:"dfp_topic_above_suggested_code",sizes:"dfp_topic_above_suggested_ad_sizes",targeting_keys:"dfp_target_topic_above_suggested_key_code",targeting_values:"dfp_target_topic_above_suggested_value_code"},"post-bottom":{code:"dfp_post_bottom_code",sizes:"dfp_post_bottom_ad_sizes",targeting_keys:"dfp_target_post_bottom_key_code",targeting_values:"dfp_target_post_bottom_value_code"}},x={"topic-list-top":{code:"dfp_mobile_topic_list_top_code",sizes:"dfp_mobile_topic_list_top_ad_sizes",targeting_keys:"dfp_target_topic_list_top_key_code",targeting_values:"dfp_target_topic_list_top_value_code"},"topic-above-post-stream":{code:"dfp_mobile_topic_above_post_stream_code",sizes:"dfp_mobile_topic_above_post_stream_ad_sizes",targeting_keys:"dfp_target_topic_above_post_stream_key_code",targeting_values:"dfp_target_topic_above_post_stream_value_code"},"topic-above-suggested":{code:"dfp_mobile_topic_above_suggested_code",sizes:"dfp_mobile_topic_above_suggested_ad_sizes",targeting_keys:"dfp_target_topic_above_suggested_key_code",targeting_values:"dfp_target_topic_above_suggested_value_code"},"post-bottom":{code:"dfp_mobile_post_bottom_code",sizes:"dfp_mobile_post_bottom_ad_sizes",targeting_keys:"dfp_target_post_bottom_key_code",targeting_values:"dfp_target_post_bottom_value_code"}};e.default=t.default.extend((_=(0,s.default)(),b=(0,s.default)("siteSettings.dfp_publisher_id","siteSettings.dfp_publisher_id_mobile","site.mobileView"),h=(0,s.default)("placement","postNumber"),f=(0,s.default)("placement","showAd"),v=(0,s.default)("width","height"),w=(0,s.default)("width"),y=(0,s.default)("publisherId","showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage"),S=(0,s.default)("currentUser.trust_level"),P=(0,s.default)("postNumber"),z=(0,s.on)("didUpdate"),E=(0,s.on)("didInsertElement"),O=(0,s.on)("willDestroyElement"),j={classNameBindings:["adUnitClass"],classNames:["google-dfp-ad"],loadedGoogletag:!1,refreshOnChange:null,lastAdRefresh:null,width:Ember.computed.alias("size.width"),height:Ember.computed.alias("size.height"),size:function(){return c(this.get("placement"),this.siteSettings,this.site.mobileView)},publisherId:function(e,t,s){return s?t||e:e},divId:function(e,t){var s=a();return t?"div-gpt-ad-"+s+"-"+e+"-"+t:"div-gpt-ad-"+s+"-"+e},adUnitClass:function(e,t){return t?"dfp-ad-"+e:""},adWrapperStyle:function(e,t){return("width: "+e+"px; height: "+t+"px;").htmlSafe()},adTitleStyleMobile:function(e){return("width: "+e+"px;").htmlSafe()},showAd:function(e,t,s,o,i){return e&&t&&s&&o&&i},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.dfp_through_trust_level)},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.dfp_nth_post_code))},shouldRefreshAd:function(){var e=this.get("lastAdRefresh");return!e||new Date-e>3e3},updated:function(){if(!this.get("listLoading")&&this.shouldRefreshAd()){var e=D[this.get("divId")];if(e&&e.ad){var t=e.ad,s=this.get("currentCategorySlug");this.get("loadedGoogletag")&&(this.set("lastAdRefresh",new Date),window.googletag.cmd.push(function(){t.setTargeting("discourse-category",s||"0"),window.googletag.pubads().refresh([t])}))}}},_initGoogleDFP:function(){var e=this;this.get("showAd")&&g(this.siteSettings).then(function(){e.set("loadedGoogletag",!0),e.set("lastAdRefresh",new Date),window.googletag.cmd.push(function(){var t=p(e.get("divId"),e.get("placement"),e.siteSettings,e.site.mobileView,e.get("width"),e.get("height"),e.get("currentCategorySlug")||"0");t&&t.ad&&(window.googletag.display(e.get("divId")),window.googletag.pubads().refresh([t.ad]))})})},willRender:function(){this._super.apply(this,arguments),this.get("showAd")},cleanup:function(){m(this.get("divId"))}},i(j,"size",[_],Object.getOwnPropertyDescriptor(j,"size"),j),i(j,"publisherId",[b],Object.getOwnPropertyDescriptor(j,"publisherId"),j),i(j,"divId",[h],Object.getOwnPropertyDescriptor(j,"divId"),j),i(j,"adUnitClass",[f],Object.getOwnPropertyDescriptor(j,"adUnitClass"),j),i(j,"adWrapperStyle",[v],Object.getOwnPropertyDescriptor(j,"adWrapperStyle"),j),i(j,"adTitleStyleMobile",[w],Object.getOwnPropertyDescriptor(j,"adTitleStyleMobile"),j),i(j,"showAd",[y],Object.getOwnPropertyDescriptor(j,"showAd"),j),i(j,"showToTrustLevel",[S],Object.getOwnPropertyDescriptor(j,"showToTrustLevel"),j),i(j,"showAfterPost",[P],Object.getOwnPropertyDescriptor(j,"showAfterPost"),j),i(j,"updated",[z],Object.getOwnPropertyDescriptor(j,"updated"),j),i(j,"_initGoogleDFP",[E],Object.getOwnPropertyDescriptor(j,"_initGoogleDFP"),j),i(j,"cleanup",[O],Object.getOwnPropertyDescriptor(j,"cleanup"),j),j))}),define("discourse/plugins/discourse-adplugin/discourse/components/amazon-product-links",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","ember-addons/ember-computed-decorators"],function(e,t,s){"use strict";function o(e,t,s,o,i){var a={};return Object.keys(o).forEach(function(e){a[e]=o[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0});var i,a,n,r,l,d,u,c,p={"topic-list-top":{},"topic-above-post-stream":{},"topic-above-suggested":{},"post-bottom":{}};!Discourse.Mobile.mobileView&&Discourse.SiteSettings.amazon_topic_list_top_src_code&&(p["topic-list-top"].user_input=Discourse.SiteSettings.amazon_topic_list_top_src_code,p["topic-list-top"].amazon_width=parseInt(Discourse.SiteSettings.amazon_topic_list_top_ad_width_code),p["topic-list-top"].amazon_height=parseInt(Discourse.SiteSettings.amazon_topic_list_top_ad_height_code)),Discourse.Mobile.mobileView&&Discourse.SiteSettings.amazon_mobile_topic_list_top_src_code&&(p["topic-list-top"].user_input_mobile=Discourse.SiteSettings.amazon_mobile_topic_list_top_src_code,p["topic-list-top"].mobile_amazon_width=parseInt(Discourse.SiteSettings.amazon_mobile_topic_list_top_ad_width_code),p["topic-list-top"].mobile_amazon_height=parseInt(Discourse.SiteSettings.amazon_mobile_topic_list_top_ad_height_code)),!Discourse.Mobile.mobileView&&Discourse.SiteSettings.amazon_topic_above_post_stream_src_code&&(p["topic-above-post-stream"].user_input=Discourse.SiteSettings.amazon_topic_above_post_stream_src_code,p["topic-above-post-stream"].amazon_width=parseInt(Discourse.SiteSettings.amazon_topic_above_post_stream_ad_width_code),p["topic-above-post-stream"].amazon_height=parseInt(Discourse.SiteSettings.amazon_topic_above_post_stream_ad_height_code)),Discourse.Mobile.mobileView&&Discourse.SiteSettings.amazon_mobile_topic_above_post_stream_src_code&&(p["topic-above-post-stream"].user_input_mobile=Discourse.SiteSettings.amazon_mobile_topic_above_post_stream_src_code,p["topic-above-post-stream"].mobile_amazon_width=parseInt(Discourse.SiteSettings.amazon_mobile_topic_above_post_stream_ad_width_code),p["topic-above-post-stream"].mobile_amazon_height=parseInt(Discourse.SiteSettings.amazon_mobile_topic_above_post_stream_ad_height_code)),!Discourse.Mobile.mobileView&&Discourse.SiteSettings.amazon_topic_above_suggested_src_code&&(p["topic-above-suggested"].user_input=Discourse.SiteSettings.amazon_topic_above_suggested_src_code,p["topic-above-suggested"].amazon_width=parseInt(Discourse.SiteSettings.amazon_topic_above_suggested_ad_width_code),p["topic-above-suggested"].amazon_height=parseInt(Discourse.SiteSettings.amazon_topic_above_suggested_ad_height_code)),Discourse.Mobile.mobileView&&Discourse.SiteSettings.amazon_mobile_topic_above_suggested_src_code&&(p["topic-above-suggested"].user_input_mobile=Discourse.SiteSettings.amazon_mobile_topic_above_suggested_src_code,p["topic-above-suggested"].mobile_amazon_width=parseInt(Discourse.SiteSettings.amazon_mobile_topic_above_suggested_ad_width_code),p["topic-above-suggested"].mobile_amazon_height=parseInt(Discourse.SiteSettings.amazon_mobile_topic_above_suggested_ad_height_code)),!Discourse.Mobile.mobileView&&Discourse.SiteSettings.amazon_post_bottom_src_code&&(p["post-bottom"].user_input=Discourse.SiteSettings.amazon_post_bottom_src_code,p["post-bottom"].amazon_width=parseInt(Discourse.SiteSettings.amazon_post_bottom_ad_width_code),p["post-bottom"].amazon_height=parseInt(Discourse.SiteSettings.amazon_post_bottom_ad_height_code)),Discourse.Mobile.mobileView&&Discourse.SiteSettings.amazon_mobile_post_bottom_src_code&&(p["post-bottom"].user_input_mobile=Discourse.SiteSettings.amazon_mobile_post_bottom_src_code,p["post-bottom"].mobile_amazon_width=parseInt(Discourse.SiteSettings.amazon_mobile_post_bottom_ad_width_code),p["post-bottom"].mobile_amazon_height=parseInt(Discourse.SiteSettings.amazon_mobile_post_bottom_ad_height_code)),e.default=t.default.extend((i=(0,s.default)("amazon_width","amazon_height"),a=(0,s.default)("mobile_amazon_width","mobile_amazon_height"),n=(0,s.default)("mobile_amazon_width"),r=(0,s.default)("user_input"),l=(0,s.default)("user_input_mobile"),d=(0,s.default)("currentUser.trust_level"),u=(0,s.default)("postNumber"),c={classNames:["amazon-product-links"],showAd:Ember.computed.and("showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage"),init:function(){var e=this.get("placement");this.set("user_input",p[e].user_input),this.set("amazon_width",p[e].amazon_width),this.set("amazon_height",p[e].amazon_height),this.set("user_input_mobile",p[e].user_input_mobile),this.set("mobile_amazon_height",p[e].mobile_amazon_height),this.set("mobile_amazon_width",p[e].mobile_amazon_width),this._super()},adWrapperStyle:function(e,t){return("width: "+e+"px; height: "+t+"px;").htmlSafe()},adWrapperStyleMobile:function(e,t){return("width: "+e+"px; height: "+t+"px;").htmlSafe()},adTitleStyleMobile:function(e){return("width: "+e+"px;").htmlSafe()},userInput:function(e){return(""+e).htmlSafe()},userInputMobile:function(e){return(""+e).htmlSafe()},showToTrustLevel:function(e){return!(e&&e>Discourse.SiteSettings.amazon_through_trust_level)},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.amazon_nth_post_code))}},o(c,"adWrapperStyle",[i],Object.getOwnPropertyDescriptor(c,"adWrapperStyle"),c),o(c,"adWrapperStyleMobile",[a],Object.getOwnPropertyDescriptor(c,"adWrapperStyleMobile"),c),o(c,"adTitleStyleMobile",[n],Object.getOwnPropertyDescriptor(c,"adTitleStyleMobile"),c),o(c,"userInput",[r],Object.getOwnPropertyDescriptor(c,"userInput"),c),o(c,"userInputMobile",[l],Object.getOwnPropertyDescriptor(c,"userInputMobile"),c),o(c,"showToTrustLevel",[d],Object.getOwnPropertyDescriptor(c,"showToTrustLevel"),c),o(c,"showAfterPost",[u],Object.getOwnPropertyDescriptor(c,"showAfterPost"),c),c))}),define("discourse/plugins/discourse-adplugin/discourse/components/codefund-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","ember-addons/ember-computed-decorators"],function(e,t,s){"use strict";function o(e,t,s,o,i){var a={};return Object.keys(o).forEach(function(e){a[e]=o[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function i(){if(u)return Ember.RSVP.resolve();if(c)return c;var e="https://codefund.io/properties/"+p+"/funder.json";return c=new Promise(function(t,s){function o(){this.readyState===this.DONE&&(u=!0,200===this.status?t(this.response):s(new Error("getJSON: `"+e+"` failed with status: ["+this.status+"]")))}var i=new XMLHttpRequest;i.open("GET",e),i.onreadystatechange=o,i.responseType="json",i.setRequestHeader("Accept","application/json"),i.send()})}Object.defineProperty(e,"__esModule",{value:!0});var a,n,r,l,d,u=!1,c=null,p=Discourse.SiteSettings.codefund_property_id;e.default=t.default.extend((a=(0,s.observes)("listLoading"),n=(0,s.default)("currentUser.trust_level"),r=(0,s.default)("showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage"),l=(0,s.default)("postNumber"),d={classNameBindings:[":codefund-ad"],propertyId:p,adRequested:!1,adDetails:{},displayPostBottom:Ember.computed.equal("placement","post-bottom"),displayTopicAbovePostStream:Ember.computed.equal("placement","topic-above-post-stream"),displayTopicAboveSuggested:Ember.computed.equal("placement","topic-above-suggested"),displayTopicListTop:Ember.computed.equal("placement","topic-list-top"),_triggerAds:function(){var e=this;p&&(this.set("adRequested",!0),i().then(function(t){u=!1,c=null,e.set("adDetails",t),e.set("adRequested",!1)}).catch(function(e){console.log(e)}))},didInsertElement:function(){this._super(),this.get("showAd")&&(this.get("listLoading")||Ember.run.scheduleOnce("afterRender",this,this._triggerAds))},waitForLoad:function(){this.get("adRequested")||this.get("listLoading")||Ember.run.scheduleOnce("afterRender",this,this._triggerAds)},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.codefund_through_trust_level)},showAd:function(e,t,s,o){return this.siteSettings.codefund_property_id&&e&&t&&s&&o},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.codefund_nth_post))}},o(d,"waitForLoad",[a],Object.getOwnPropertyDescriptor(d,"waitForLoad"),d),o(d,"showToTrustLevel",[n],Object.getOwnPropertyDescriptor(d,"showToTrustLevel"),d),o(d,"showAd",[r],Object.getOwnPropertyDescriptor(d,"showAd"),d),o(d,"showAfterPost",[l],Object.getOwnPropertyDescriptor(d,"showAfterPost"),d),d))}),define("discourse/plugins/discourse-adplugin/discourse/components/house-ads-chooser",["exports","select-kit/components/multi-select"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Ember,o=s.makeArray;e.default=t.default.extend({classNames:"house-ads-chooser",filterable:!0,filterPlaceholder:"admin.adplugin.house_ads.filter_placeholder",tokenSeparator:"|",allowCreate:!1,allowAny:!1,settingValue:"",computeContent:function(){return o(this.get("choices"))},mutateValues:function(e){this.set("settingValue",e.join(this.get("tokenSeparator")))},computeValues:function(){return this.get("settingValue").split(this.get("tokenSeparator")).filter(function(e){return e})}})}),define("discourse/plugins/discourse-adplugin/discourse/components/ad-slot",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","ember-addons/ember-computed-decorators"],function(e,t,s){"use strict";function o(e,t,s,o,i){var a={};return Object.keys(o).forEach(function(e){a[e]=o[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0});var i,a,n,r,l=Ember.Object.create({"google-adsense":{settingPrefix:"adsense",enabledSetting:"adsense_publisher_code",nthPost:"adsense_nth_post_code"},"google-dfp-ad":{settingPrefix:"dfp",enabledSetting:"dfp_publisher_id",nthPost:"dfp_nth_post_code"},"amazon-product-links":{settingPrefix:"amazon",enabledSetting:!1,nthPost:"amazon_nth_post_code",desktop:{"topic-list-top":"amazon_topic_list_top_src_code","post-bottom":"amazon_post_bottom_src_code","topic-above-post-stream":"amazon_topic_above_post_stream_src_code","topic-above-suggested":"amazon_topic_above_suggested_src_code"},mobile:{"topic-list-top":"amazon_mobile_topic_list_top_src_code","post-bottom":"amazon_mobile_post_bottom_src_code","topic-above-post-stream":"amazon_mobile_topic_above_post_stream_src_code","topic-above-suggested":"amazon_mobile_topic_above_suggested_src_code"}},"codefund-ad":{settingPrefix:"codefund",enabledSetting:"codefund_property_id",nthPost:"codefund_nth_post",desktop:{"topic-list-top":"codefund_top_of_topic_list_enabled","post-bottom":"codefund_below_post_enabled","topic-above-post-stream":"codefund_above_post_stream_enabled","topic-above-suggested":"codefund_above_suggested_enabled"}},"carbonads-ad":{settingPrefix:"carbonads",enabledSetting:"carbonads_serve_id",desktop:{"topic-list-top":"carbonads_topic_list_top_enabled","post-bottom":!1,"topic-above-post-stream":"carbonads_above_post_stream_enabled","topic-above-suggested":!1}}}),d={houseAds:0,allAds:0};e.default=t.default.extend((i=(0,s.default)("placement","postNumber"),a=(0,s.observes)("refreshOnChange"),n=(0,s.default)("placement","availableAdTypes","needsUpdate"),r={needsUpdate:!1,availableAdTypes:function(e,t){var s=this,o=[],i=this.site.get("house_creatives"),a=e.replace(/-/g,"_");if(i&&i.settings){var n=i.settings[a];Object.keys(i.creatives).length>0&&!Ember.isBlank(n)&&(!t||this.isNthPost(parseInt(i.settings.after_nth_post,10)))&&o.push("house-ad")}return Object.keys(l).forEach(function(i){var n=l[i],r=null,d=void 0;(!n.enabledSetting||Ember.isBlank(s.siteSettings[n.enabledSetting]))&&!1!==n.enabledSetting||t&&n.nthPost&&!s.isNthPost(parseInt(s.siteSettings[n.nthPost],10))||(r=s.site.mobileView?n.mobile||n.desktop:n.desktop,r&&(d=r[e]),void 0===d&&(d=n.settingPrefix+"_"+(s.site.mobileView?"mobile_":"")+a+"_code"),!1===d||!1===s.siteSettings[d]||Ember.isBlank(s.siteSettings[d])||o.push(i))}),o},changed:function(){this.get("listLoading")||this.notifyPropertyChange("needsUpdate")},adComponents:function(e,t){if(!t.includes("house-ad")||1===t.length)return t;var s=this.site.get("house_creatives"),o=!1;if(100===s.settings.house_ads_frequency)return["house-ad"];if(s.settings.house_ads_frequency>0){if(0===d.allAds||100*d.houseAds/d.allAds<s.settings.house_ads_frequency)return d.houseAds+=1,d.allAds+=1,["house-ad"];o=!0}var i=t.filter(function(e){return"house-ad"!==e});return o&&(d.allAds+=i.length),i}},o(r,"availableAdTypes",[i],Object.getOwnPropertyDescriptor(r,"availableAdTypes"),r),o(r,"changed",[a],Object.getOwnPropertyDescriptor(r,"changed"),r),o(r,"adComponents",[n],Object.getOwnPropertyDescriptor(r,"adComponents"),r),r))}),define("discourse/plugins/discourse-adplugin/discourse/components/ad-component",["exports","ember-addons/ember-computed-decorators"],function(e,t){"use strict";function s(e,t,s,o,i){var a={};return Object.keys(o).forEach(function(e){a[e]=o[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0});var o,i,a,n,r;e.default=Ember.Component.extend((o=(0,t.default)("router.currentRoute.attributes.__type","router.currentRoute.attributes.id"),i=(0,t.default)("router.currentRoute.parent.attributes.archetype"),a=(0,t.default)("currentUser.groups"),n=(0,t.default)("currentCategoryId","topicTagsDisableAds","topicListTag","isPersonalMessage","isRestrictedCategory"),r={router:Ember.inject.service(),currentCategoryId:Ember.computed.or("router.currentRoute.attributes.category.id","router.currentRoute.parent.attributes.category_id"),currentCategorySlug:Ember.computed.or("router.currentRoute.attributes.category.slug","router.currentRoute.parent.attributes.category.slug"),topicTagsDisableAds:Ember.computed.alias("router.currentRoute.parent.attributes.tags_disable_ads"),isRestrictedCategory:Ember.computed.or("router.currentRoute.attributes.category.read_restricted","router.currentRoute.parent.attributes.category.read_restricted"),topicListTag:function(e,t){if("tag"===e&&t)return t},isPersonalMessage:function(e){return"private_message"===e},showToGroups:function(e){if(!Discourse.User.current()||!e||!this.siteSettings.no_ads_for_groups||0===this.siteSettings.no_ads_for_groups.length)return!0;var t=this.siteSettings.no_ads_for_groups.split("|"),s=this.site.group_list_use_ids,o=e;return s?o=o.map(function(e){return e.id.toString()}):(o=o.map(function(e){return e.name.toLowerCase()}),t=t.map(function(e){return e.toLowerCase()})),!o.any(function(e){return t.includes(e)})},showOnCurrentPage:function(e,t,s,o,i){return!(t||e&&this.siteSettings.no_ads_for_categories&&this.siteSettings.no_ads_for_categories.split("|").includes(e.toString())||s&&this.siteSettings.no_ads_for_tags&&this.siteSettings.no_ads_for_tags.split("|").includes(s)||o&&this.siteSettings.no_ads_for_personal_messages||i&&this.siteSettings.no_ads_for_restricted_categories)},isNthPost:function(e){return!!(e&&e>0)&&this.get("postNumber")%e==0}},s(r,"topicListTag",[o],Object.getOwnPropertyDescriptor(r,"topicListTag"),r),s(r,"isPersonalMessage",[i],Object.getOwnPropertyDescriptor(r,"isPersonalMessage"),r),s(r,"showToGroups",[a],Object.getOwnPropertyDescriptor(r,"showToGroups"),r),s(r,"showOnCurrentPage",[n],Object.getOwnPropertyDescriptor(r,"showOnCurrentPage"),r),r))}),define("discourse/plugins/discourse-adplugin/discourse/components/google-adsense",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","ember-addons/ember-computed-decorators","discourse/lib/load-script"],function(e,t,s,o){"use strict";function i(e,t,s,o,i){var a={};return Object.keys(o).forEach(function(e){a[e]=o[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function a(e){return"responsive"===e?"auto":parseInt(e.substring(0,3).trim())+"px"}function n(e){return"responsive"===e?"auto":parseInt(e.substring(4,7).trim())+"px"}function r(){if(f)return Ember.RSVP.resolve();if(v)return v;var e=("https:"===document.location.protocol?"https:":"http:")+"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";return v=(0,o.default)(e,{scriptTag:!0}).then(function(){f=!0})}Object.defineProperty(e,"__esModule",{value:!0});var l,d,u,c,p,m,g,_,b,h,f=!1,v=null,w={},y=Discourse.SiteSettings.adsense_publisher_code,S={"topic-list-top":{code:"adsense_topic_list_top_code",sizes:"adsense_topic_list_top_ad_sizes"},"topic-above-post-stream":{code:"adsense_topic_above_post_stream_code",sizes:"adsense_topic_above_post_stream_ad_sizes"},"topic-above-suggested":{code:"adsense_topic_above_suggested_code",sizes:"adsense_topic_above_suggested_ad_sizes"},"post-bottom":{code:"adsense_post_bottom_code",sizes:"adsense_post_bottom_ad_sizes"}},P={"topic-list-top":{code:"adsense_mobile_topic_list_top_code",sizes:"adsense_mobile_topic_list_top_ad_size"},"topic-above-post-stream":{code:"adsense_mobile_topic_above_post_stream_code",sizes:"adsense_mobile_topic_above_post_stream_ad_size"},"topic-above-suggested":{code:"adsense_mobile_topic_above_suggested_code",sizes:"adsense_mobile_topic_above_suggested_ad_size"},"post-bottom":{code:"adsense_mobile_post_bottom_code",sizes:"adsense_mobile_post_bottom_ad_size"}};e.default=t.default.extend((l=(0,s.observes)("listLoading"),d=(0,s.default)("ad_width"),u=(0,s.default)("placement","showAd"),c=(0,s.default)("isResponsive"),p=(0,s.default)("ad_width","ad_height","isResponsive"),m=(0,s.default)("adWrapperStyle","isResponsive"),g=(0,s.default)("currentUser.trust_level"),_=(0,s.default)("showToTrustLevel","showToGroups","showAfterPost","showOnCurrentPage"),b=(0,s.default)("postNumber"),h={classNameBindings:[":google-adsense","classForSlot","isResponsive:adsense-responsive"],loadedGoogletag:!1,publisher_id:y,ad_width:null,ad_height:null,adRequested:!1,init:function(){var e=void 0,t=void 0,s=this.get("placement");e=this.site.mobileView?P[s]:S[s],w[s]||(w[s]=0);var o=(this.siteSettings[e.sizes]||"").split("|");1===o.length?t=o[0]:(t=o[w[s]%o.length],w[s]+=1),this.set("ad_width",a(t)),this.set("ad_height",n(t)),this.set("ad_code",this.siteSettings[e.code]),this._super()},_triggerAds:function(){this.set("adRequested",!0),r().then(function(){var e=window.adsbygoogle||[];try{e.push({})}catch(e){}})},didInsertElement:function(){this._super(),this.get("showAd")&&(this.get("listLoading")||Ember.run.scheduleOnce("afterRender",this,this._triggerAds))},waitForLoad:function(){this.get("adRequested")||this.get("listLoading")||Ember.run.scheduleOnce("afterRender",this,this._triggerAds)},isResponsive:function(e){return"auto"===e},classForSlot:function(e,t){return t?("adsense-"+e).htmlSafe():""},autoAdFormat:function(e){return!!e&&"auto".htmlSafe()},adWrapperStyle:function(e,t,s){return(s?"":"width: "+e+"; height: "+t+";").htmlSafe()},adInsStyle:function(e,t){return("display: "+(t?"block":"inline-block")+"; "+e).htmlSafe()},showToTrustLevel:function(e){return!(e&&e>this.siteSettings.adsense_through_trust_level)},showAd:function(e,t,s,o){return this.siteSettings.adsense_publisher_code&&e&&t&&s&&o},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.siteSettings.adsense_nth_post_code))}},i(h,"waitForLoad",[l],Object.getOwnPropertyDescriptor(h,"waitForLoad"),h),i(h,"isResponsive",[d],Object.getOwnPropertyDescriptor(h,"isResponsive"),h),i(h,"classForSlot",[u],Object.getOwnPropertyDescriptor(h,"classForSlot"),h),i(h,"autoAdFormat",[c],Object.getOwnPropertyDescriptor(h,"autoAdFormat"),h),i(h,"adWrapperStyle",[p],Object.getOwnPropertyDescriptor(h,"adWrapperStyle"),h),i(h,"adInsStyle",[m],Object.getOwnPropertyDescriptor(h,"adInsStyle"),h),i(h,"showToTrustLevel",[g],Object.getOwnPropertyDescriptor(h,"showToTrustLevel"),h),i(h,"showAd",[_],Object.getOwnPropertyDescriptor(h,"showAd"),h),i(h,"showAfterPost",[b],Object.getOwnPropertyDescriptor(h,"showAfterPost"),h),h))}),define("discourse/plugins/discourse-adplugin/discourse/components/house-ads-setting",["exports","discourse/lib/ajax","discourse/lib/ajax-error","discourse/lib/computed"],function(e,t,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({classNames:"house-ads-setting",adValue:"",saving:!1,savingStatus:"",title:(0,o.i18n)("name","admin.adplugin.house_ads.%@.title"),help:(0,o.i18n)("name","admin.adplugin.house_ads.%@.description"),changed:(0,o.propertyNotEqual)("adValue","value"),init:function(){this._super.apply(this,arguments),this.set("adValue",this.get("value"))},actions:{save:function(){var e=this;this.get("saving")||(this.setProperties({saving:!0,savingStatus:I18n.t("saving")}),(0,t.ajax)("/admin/plugins/adplugin/house_ad_settings/"+this.get("name")+".json",{type:"PUT",data:{value:this.get("adValue")}}).then(function(){e.get("adSettings").set(e.get("name"),e.get("adValue")),e.setProperties({value:e.get("adValue"),savingStatus:I18n.t("saved")})}).catch(s.popupAjaxError).finally(function(){e.setProperties({saving:!1,savingStatus:""})}))},cancel:function(){this.set("adValue",this.get("value"))}}})}),define("discourse/plugins/discourse-adplugin/discourse/components/carbonads-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","ember-addons/ember-computed-decorators"],function(e,t,s){"use strict";function o(e,t,s,o,i){var a={};return Object.keys(o).forEach(function(e){a[e]=o[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0});var i,a,n,r,l=Discourse.SiteSettings.carbonads_serve_id,d=Discourse.SiteSettings.carbonads_placement;e.default=t.default.extend((i=(0,s.default)("serve_id"),a=(0,s.default)("currentUser.trust_level"),n=(0,
s.default)("showToTrustLevel","showToGroups","showOnCurrentPage"),r={init:function(){this.set("serve_id",l),this._super()},url:function(e){return("//cdn.carbonads.com/carbon.js?serve="+e+"&placement="+d).htmlSafe()},showToTrustLevel:function(e){return!(e&&e>Discourse.SiteSettings.carbonads_through_trust_level)},showAd:function(e,t,s){return d&&l&&e&&t&&s}},o(r,"url",[i],Object.getOwnPropertyDescriptor(r,"url"),r),o(r,"showToTrustLevel",[a],Object.getOwnPropertyDescriptor(r,"showToTrustLevel"),r),o(r,"showAd",[n],Object.getOwnPropertyDescriptor(r,"showAd"),r),r))}),define("discourse/plugins/discourse-adplugin/discourse/components/house-ads-list-setting",["exports","discourse/plugins/discourse-adplugin/discourse/components/house-ads-setting"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({classNames:"house-ads-setting house-ads-list-setting",adNames:Ember.computed.mapBy("allAds","name")})}),define("discourse/plugins/discourse-adplugin/discourse/components/house-ad",["exports","discourse/plugins/discourse-adplugin/discourse/components/ad-component","ember-addons/ember-computed-decorators"],function(e,t,s){"use strict";function o(e,t,s,o,i){var a={};return Object.keys(o).forEach(function(e){a[e]=o[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,o){return o(e,t,s)||s},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0});var i,a,n,r,l,d={topic_list_top:null,topic_above_post_stream:null,topic_above_suggested:null,post_bottom:null};e.default=t.default.extend((i=(0,s.default)("placement","showAd"),a=(0,s.default)("showToGroups","showAfterPost","showOnCurrentPage"),n=(0,s.default)("postNumber"),r=(0,s.observes)("refreshOnChange"),l={classNames:["house-creative"],classNameBindings:["adUnitClass"],adHtml:"",adUnitClass:function(e,t){return t?"house-"+e:""},showAd:function(e,t,s){return e&&t&&s},showAfterPost:function(e){return!e||this.isNthPost(parseInt(this.site.get("house_creatives.settings.after_nth_post")))},chooseAdHtml:function(){var e=this.site.get("house_creatives"),t=this.get("placement").replace(/-/g,"_"),s=this.adsNamesForSlot(t);if(s.length>0){d[t]||(d[t]=0);var o=e.creatives[s[d[t]]]||"";return d[t]=(d[t]+1)%s.length,o}return""},adsNamesForSlot:function(e){var t=this.site.get("house_creatives");if(!t||!t.settings)return[];var s=t.settings[e];return Object.keys(t.creatives).length>0&&!Ember.isBlank(s)?s.split("|"):[]},refreshAd:function(){this.get("listLoading")||this.set("adHtml",this.chooseAdHtml())},didInsertElement:function(){var e=this;this._super.apply(this,arguments),this.get("showAd")&&(this.get("listLoading")||(null===d.topic_list_top&&Object.keys(d).forEach(function(t){var s=e.adsNamesForSlot(t);d[t]=Math.floor(Math.random()*s.length)}),this.refreshAd()))}},o(l,"adUnitClass",[i],Object.getOwnPropertyDescriptor(l,"adUnitClass"),l),o(l,"showAd",[a],Object.getOwnPropertyDescriptor(l,"showAd"),l),o(l,"showAfterPost",[n],Object.getOwnPropertyDescriptor(l,"showAfterPost"),l),o(l,"refreshAd",[r],Object.getOwnPropertyDescriptor(l,"refreshAd"),l),l))}),define("discourse/plugins/discourse-adplugin/discourse/adplugin-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={resource:"admin.adminPlugins",path:"/plugins",map:function(){this.route("houseAds",{path:"/adplugin/house_ads"},function(){this.route("index",{path:"/"}),this.route("show",{path:"/:ad_id"})})}}}),define("discourse/plugins/discourse-adplugin/discourse/controllers/admin-plugins-house-ads-show",["exports","discourse/lib/ajax","discourse/lib/ajax-error","discourse/lib/computed","discourse/mixins/buffered-content"],function(e,t,s,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend((0,i.bufferedProperty)("model"),{adminPluginsHouseAds:Ember.inject.controller("adminPlugins.houseAds"),saving:!1,savingStatus:"",nameDirty:(0,o.propertyNotEqual)("buffered.name","model.name"),htmlDirty:(0,o.propertyNotEqual)("buffered.html","model.html"),dirty:Ember.computed.or("nameDirty","htmlDirty"),disableSave:Ember.computed.not("dirty"),actions:{save:function(){var e=this;if(!this.get("saving")){this.setProperties({saving:!0,savingStatus:I18n.t("saving")});var o={},i=this.get("buffered"),a=!i.get("id");a||(o.id=i.get("id")),o.name=i.get("name"),o.html=i.get("html"),(0,t.ajax)(a?"/admin/plugins/adplugin/house_ads":"/admin/plugins/adplugin/house_ads/"+i.get("id"),{type:a?"POST":"PUT",data:o}).then(function(t){if(e.commitBuffer(),e.set("savingStatus",I18n.t("saved")),a){var s=e.get("model");s.set("id",t.house_ad.id);var o=e.get("adminPluginsHouseAds.model");o.includes(s)||o.pushObject(s),e.transitionToRoute("adminPlugins.houseAds.show",s.get("id"))}}).catch(s.popupAjaxError).finally(function(){e.setProperties({saving:!1,savingStatus:""})})}},cancel:function(){this.rollbackBuffer()},destroy:function(){var e=this,s=this.get("adminPluginsHouseAds.model"),o=this.get("model");if(!o.get("id"))return void this.transitionToRoute("adminPlugins.houseAds.index");(0,t.ajax)("/admin/plugins/adplugin/house_ads/"+o.get("id"),{type:"DELETE"}).then(function(){s.removeObject(o),e.transitionToRoute("adminPlugins.houseAds.index")}).catch(function(){return bootbox.alert(I18n.t("generic_error"))})}}})}),define("discourse/plugins/discourse-adplugin/discourse/controllers/admin-plugins-house-ads",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend({loadingAds:!0})}),define("discourse/plugins/discourse-adplugin/discourse/controllers/admin-plugins-house-ads-index",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend({adminPluginsHouseAds:Ember.inject.controller("adminPlugins.houseAds"),houseAds:Ember.computed.alias("adminPluginsHouseAds.model"),adSettings:Ember.computed.alias("adminPluginsHouseAds.houseAdsSettings")})}),Ember.TEMPLATES["javascripts/components/house-ads-setting"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"label"],[12,"for",[30,[[23,"name"]]]],[9],[1,[23,"title"],false],[10],[0,"\\n"],[1,[29,"text-field",null,[["value","classNames"],[[25,["adValue"]],"house-ads-text-input"]]],false],[0,"\\n"],[7,"div"],[11,"class","setting-controls"],[9],[0,"\\n"],[4,"if",[[25,["changed"]]],null,{"statements":[[0,"    "],[1,[29,"d-button",null,[["class","action","icon"],["ok",[29,"action",[[24,0,[]],"save"],null],"check"]]],false],[0,"\\n    "],[1,[29,"d-button",null,[["class","action","icon"],["cancel",[29,"action",[[24,0,[]],"cancel"],null],"times"]]],false],[0,"\\n"]],"parameters":[]},null],[10],[0,"\\n"],[7,"p"],[11,"class","help"],[9],[1,[23,"help"],false],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/components/house-ads-setting"}}),Ember.TEMPLATES["javascripts/components/house-ad"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[25,["showAd"]]],null,{"statements":[[0,"  "],[1,[23,"adHtml"],true],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/components/house-ad"}}),Ember.TEMPLATES["javascripts/components/google-dfp-ad"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[25,["showAd"]]],null,{"statements":[[4,"if",[[25,["site","mobileView"]]],null,{"statements":[[0,"    "],[7,"div"],[11,"class","google-dfp-ad-label"],[12,"style",[23,"adTitleStyleMobile"]],[9],[7,"h2"],[9],[1,[29,"i18n",["adplugin.advertisement_label"],null],false],[10],[10],[0,"\\n    "],[7,"div"],[12,"id",[23,"divId"]],[12,"style",[23,"adWrapperStyle"]],[11,"class","dfp-ad-unit"],[11,"align","center"],[9],[10],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"div"],[11,"class","google-dfp-ad-label"],[9],[7,"h2"],[9],[1,[29,"i18n",["adplugin.advertisement_label"],null],false],[10],[10],[0,"\\n    "],[7,"div"],[12,"id",[23,"divId"]],[12,"style",[23,"adWrapperStyle"]],[11,"class","dfp-ad-unit"],[11,"align","center"],[9],[10],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/components/google-dfp-ad"}}),Ember.TEMPLATES["javascripts/components/amazon-product-links"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[25,["showAd"]]],null,{"statements":[[4,"if",[[25,["site","mobileView"]]],null,{"statements":[[0,"    "],[7,"div"],[11,"class","amazon-product-links-label"],[12,"style",[23,"adTitleStyleMobile"]],[9],[7,"h2"],[9],[1,[29,"i18n",["adplugin.advertisement_label"],null],false],[10],[10],[0,"\\n\\t\\t"],[7,"iframe"],[12,"style",[23,"adWrapperStyleMobile"]],[11,"marginwidth","0"],[11,"marginheight","0"],[11,"scrolling","no"],[11,"frameborder","0"],[12,"src",[23,"userInputMobile"]],[9],[0,"\\n\\t\\t"],[10],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"div"],[11,"class","amazon-product-links-label"],[9],[7,"h2"],[9],[1,[29,"i18n",["adplugin.advertisement_label"],null],false],[10],[10],[0,"\\n\\t\\t"],[7,"div"],[11,"class","container"],[11,"align","center"],[9],[0,"\\n\\t\\t\\t"],[7,"iframe"],[12,"style",[23,"adWrapperStyle"]],[11,"marginwidth","0"],[11,"marginheight","0"],[11,"scrolling","no"],[11,"frameborder","0"],[12,"src",[23,"userInput"]],[9],[0,"\\n\\t\\t\\t"],[10],[0,"\\n\\t\\t"],[10],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/components/amazon-product-links"}}),Ember.TEMPLATES["javascripts/components/ad-slot"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["adComponent"],"statements":[[4,"each",[[25,["adComponents"]]],null,{"statements":[[0,"  "],[1,[29,"component",[[24,1,[]]],[["placement","refreshOnChange","category","listLoading","postNumber"],[[25,["placement"]],[25,["refreshOnChange"]],[25,["category"]],[25,["listLoading"]],[25,["postNumber"]]]]],false],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"javascripts/components/ad-slot"}}),Ember.TEMPLATES["javascripts/components/google-adsense"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[25,["showAd"]]],null,{"statements":[[0,"  "],[7,"div"],[11,"class","google-adsense-label"],[9],[7,"h2"],[9],[1,[29,"i18n",["adplugin.advertisement_label"],null],false],[10],[10],[0,"\\n  "],[7,"div"],[11,"class","google-adsense-content"],[12,"style",[23,"adWrapperStyle"]],[9],[0,"\\n    "],[7,"ins"],[11,"class","adsbygoogle"],[12,"style",[23,"adInsStyle"]],[12,"data-ad-client",[30,["ca-pub-",[23,"publisher_id"]]]],[12,"data-ad-slot",[23,"ad_code"]],[12,"data-ad-format",[23,"autoAdFormat"]],[9],[0,"\\n    "],[10],[0,"\\n  "],[10],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/components/google-adsense"}}),Ember.TEMPLATES["javascripts/components/post-bottom-ad"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[29,"ad-slot",null,[["placement","category","postNumber"],["post-bottom",[25,["model","topic","category","slug"]],[25,["model","post_number"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/components/post-bottom-ad"}}),Ember.TEMPLATES["javascripts/components/house-ads-list-setting"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"label"],[12,"for",[30,[[23,"name"]]]],[9],[1,[23,"title"],false],[10],[0,"\\n"],[1,[29,"house-ads-chooser",null,[["settingValue","choices"],[[25,["adValue"]],[25,["adNames"]]]]],false],[0,"\\n"],[7,"div"],[11,"class","setting-controls"],[9],[0,"\\n"],[4,"if",[[25,["changed"]]],null,{"statements":[[0,"    "],[1,[29,"d-button",null,[["class","action","icon"],["ok",[29,"action",[[24,0,[]],"save"],null],"check"]]],false],[0,"\\n    "],[1,[29,"d-button",null,[["class","action","icon"],["cancel",[29,"action",[[24,0,[]],"cancel"],null],"times"]]],false],[0,"\\n"]],"parameters":[]},null],[10],[0,"\\n"],[7,"p"],[11,"class","help"],[9],[1,[23,"help"],false],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/components/house-ads-list-setting"}}),Ember.TEMPLATES["javascripts/components/codefund/topic-list-top"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"span"],[11,"class","codefund-wrapper codefund-topic-list-top"],[9],[0,"\\n  "],[7,"a"],[12,"href",[30,[[25,["adDetails","campaignUrl"]]]]],[11,"class","codefund-text"],[11,"target","_blank"],[11,"rel","noopener"],[9],[0,"\\n"],[4,"if",[[25,["siteSettings","codefund_display_advertiser_labels"]]],null,{"statements":[[0,"      "],[7,"span"],[11,"class","codefund-label"],[9],[1,[25,["siteSettings","codefund_advertiser_label"]],false],[10],[0,"\\n"]],"parameters":[]},null],[0,"    "],[7,"strong"],[9],[1,[25,["adDetails","headline"]],false],[10],[0," "],[1,[25,["adDetails","body"]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"a"],[12,"href",[25,["adDetails","codefundUrl"]]],[11,"class","codefund-powered-by"],[11,"target","_blank"],[11,"rel","noopener"],[9],[0,"\\n    ads via codefund.io\\n  "],[10],[0,"\\n  "],[7,"img"],[12,"src",[30,[[25,["adDetails","impressionUrl"]]]]],[11,"class","codefund-pixel"],[9],[10],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/components/codefund/topic-list-top"}}),Ember.TEMPLATES["javascripts/components/codefund/post-bottom"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"span"],[11,"class","codefund-wrapper codefund-post-bottom"],[9],[0,"\\n  "],[7,"a"],[12,"href",[30,[[25,["adDetails","campaignUrl"]]]]],[11,"class","codefund-text"],[11,"target","_blank"],[11,"rel","noopener"],[9],[0,"\\n"],[4,"if",[[25,["siteSettings","codefund_display_advertiser_labels"]]],null,{"statements":[[0,"      "],[7,"span"],[11,"class","codefund-label"],[9],[1,[25,["siteSettings","codefund_advertiser_short_label"]],false],[10],[0,"\\n"]],"parameters":[]},null],[0,"    "],[7,"strong"],[9],[1,[25,["adDetails","headline"]],false],[10],[0," "],[1,[25,["adDetails","body"]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"img"],[12,"src",[30,[[25,["adDetails","impressionUrl"]]]]],[11,"class","codefund-pixel"],[9],[10],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/components/codefund/post-bottom"}}),Ember.TEMPLATES["javascripts/components/codefund/topic-above-suggested"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"span"],[11,"class","codefund-wrapper codefund-topic-above-suggested"],[9],[0,"\\n  "],[7,"a"],[12,"href",[30,[[25,["adDetails","campaignUrl"]]]]],[11,"class","codefund-text"],[11,"target","_blank"],[11,"rel","noopener"],[9],[0,"\\n"],[4,"if",[[25,["siteSettings","codefund_display_advertiser_labels"]]],null,{"statements":[[0,"      "],[7,"span"],[11,"class","codefund-label"],[9],[1,[25,["siteSettings","codefund_advertiser_label"]],false],[10],[0,"\\n"]],"parameters":[]},null],[0,"    "],[7,"strong"],[9],[1,[25,["adDetails","headline"]],false],[10],[0," "],[1,[25,["adDetails","body"]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"a"],[12,"href",[25,["adDetails","codefundUrl"]]],[11,"class","codefund-powered-by"],[11,"target","_blank"],[11,"rel","noopener"],[9],[0,"\\n    ads via codefund.io\\n  "],[10],[0,"\\n  "],[7,"img"],[12,"src",[30,[[25,["adDetails","impressionUrl"]]]]],[11,"class","codefund-pixel"],[9],[10],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/components/codefund/topic-above-suggested"}}),Ember.TEMPLATES["javascripts/components/codefund/topic-above-post-stream"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"span"],[11,"class","codefund-wrapper codefund-topic-above-post-stream"],[9],[0,"\\n  "],[7,"a"],[12,"href",[30,[[25,["adDetails","campaignUrl"]]]]],[11,"class","codefund-text"],[11,"target","_blank"],[11,"rel","noopener"],[9],[0,"\\n"],[4,"if",[[25,["siteSettings","codefund_display_advertiser_labels"]]],null,{"statements":[[0,"      "],[7,"span"],[11,"class","codefund-label"],[9],[1,[25,["siteSettings","codefund_advertiser_label"]],false],[10],[0,"\\n"]],"parameters":[]},null],[0,"    "],[7,"strong"],[9],[1,[25,["adDetails","headline"]],false],[10],[0," "],[1,[25,["adDetails","body"]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"a"],[12,"href",[25,["adDetails","codefundUrl"]]],[11,"class","codefund-powered-by"],[11,"target","_blank"],[11,"rel","noopener"],[9],[0,"\\n    ads via codefund.io\\n  "],[10],[0,"\\n  "],[7,"img"],[12,"src",[30,[[25,["adDetails","impressionUrl"]]]]],[11,"class","codefund-pixel"],[9],[10],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/components/codefund/topic-above-post-stream"}}),Ember.TEMPLATES["javascripts/components/codefund-ad"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[25,["showAd"]]],null,{"statements":[[4,"if",[[25,["site","mobileView"]]],null,{"statements":[[4,"if",[[25,["displayPostBottom"]]],null,{"statements":[[0,"      "],[16,"components/codefund/post-bottom",[]],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,["displayTopicAbovePostStream"]]],null,{"statements":[[0,"      "],[16,"components/codefund/topic-above-post-stream",[]],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,["displayTopicAboveSuggested"]]],null,{"statements":[[0,"      "],[16,"components/codefund/topic-above-suggested",[]],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,["displayTopicListTop"]]],null,{"statements":[[0,"      "],[16,"components/codefund/topic-list-top",[]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},{"statements":[[4,"if",[[25,["displayPostBottom"]]],null,{"statements":[[0,"      "],[16,"components/codefund/post-bottom",[]],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,["displayTopicAbovePostStream"]]],null,{"statements":[[0,"      "],[16,"components/codefund/topic-above-post-stream",[]],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,["displayTopicAboveSuggested"]]],null,{"statements":[[0,"      "],[16,"components/codefund/topic-above-suggested",[]],[0,"\\n"]],"parameters":[]},null],[4,"if",[[25,["displayTopicListTop"]]],null,{"statements":[[0,"      "],[16,"components/codefund/topic-list-top",[]],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]},null]],"hasEval":true}',meta:{moduleName:"javascripts/components/codefund-ad"}}),Ember.TEMPLATES["javascripts/components/carbonads-ad"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[25,["showAd"]]],null,{"statements":[[0,"  "],[7,"script"],[12,"src",[23,"url"]],[11,"id","_carbonads_js"],[11,"async",""],[11,"type","text/javascript"],[9],[0,"\\n  "],[10],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/components/carbonads-ad"}}),Ember.TEMPLATES["javascripts/admin/plugins-house-ads-show"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-section",null,[["class"],["edit-house-ad content-body"]],{"statements":[[0,"  "],[7,"h1"],[9],[1,[29,"text-field",null,[["class","value"],["house-ad-name",[25,["buffered","name"]]]]],false],[10],[0,"\\n  "],[7,"div"],[11,"class","controls"],[9],[0,"\\n    "],[1,[29,"ace-editor",null,[["content","mode"],[[25,["buffered","html"]],"html"]]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"div"],[11,"class","controls"],[9],[0,"\\n    "],[1,[29,"d-button",null,[["action","disabled","class","label"],[[29,"action",[[24,0,[]],"save"],null],[25,["disableSave"]],"btn-primary","admin.adplugin.house_ads.save"]]],false],[0,"\\n\\n"],[4,"if",[[25,["saving"]]],null,{"statements":[[0,"      "],[1,[23,"savingStatus"],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[25,["dirty"]]],null,{"statements":[[0,"        "],[7,"a"],[11,"href",""],[9],[1,[29,"i18n",["cancel"],null],false],[3,"action",[[24,0,[]],"cancel"]],[10],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"\\n    "],[1,[29,"d-button",null,[["action","class","label"],[[29,"action",[[24,0,[]],"destroy"],null],"btn-danger delete-button","admin.adplugin.house_ads.delete"]]],false],[0,"\\n  "],[10],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/admin/plugins-house-ads-show"}}),Ember.TEMPLATES["javascripts/admin/plugins-house-ads-index"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-section",null,[["class"],["house-ads-settings content-body"]],{"statements":[[0,"  "],[7,"div"],[9],[1,[29,"i18n",["admin.adplugin.house_ads.description"],null],false],[10],[0,"\\n\\n"],[4,"unless",[[25,["houseAds","length"]]],null,{"statements":[[0,"    "],[7,"p"],[9],[0,"\\n"],[4,"link-to",null,[["route","model"],["adminPlugins.houseAds.show","new"]],{"statements":[[0,"        "],[1,[29,"i18n",["admin.adplugin.house_ads.get_started"],null],false],[0,"\\n"]],"parameters":[]},null],[0,"    "],[10],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"form"],[11,"class","form-horizontal"],[9],[0,"\\n      "],[1,[29,"house-ads-list-setting",null,[["name","value","allAds","adSettings"],["topic_list_top",[25,["adSettings","topic_list_top"]],[25,["houseAds"]],[25,["adSettings"]]]]],false],[0,"\\n      "],[1,[29,"house-ads-list-setting",null,[["name","value","allAds","adSettings"],["topic_above_post_stream",[25,["adSettings","topic_above_post_stream"]],[25,["houseAds"]],[25,["adSettings"]]]]],false],[0,"\\n      "],[1,[29,"house-ads-list-setting",null,[["name","value","allAds","adSettings"],["topic_above_suggested",[25,["adSettings","topic_above_suggested"]],[25,["houseAds"]],[25,["adSettings"]]]]],false],[0,"\\n      "],[1,[29,"house-ads-list-setting",null,[["name","value","allAds","adSettings"],["post_bottom",[25,["adSettings","post_bottom"]],[25,["houseAds"]],[25,["adSettings"]]]]],false],[0,"\\n\\n      "],[1,[29,"d-button",null,[["label","icon","class","action"],["admin.adplugin.house_ads.more_settings","cog","btn-default",[29,"route-action",["moreSettings"],null]]]],false],[0,"\\n    "],[10],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/admin/plugins-house-ads-index"}}),Ember.TEMPLATES["javascripts/admin/plugins-house-ads"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["ad"],"statements":[[7,"div"],[11,"class","adplugin-mgmt"],[9],[0,"\\n  "],[7,"h1"],[9],[1,[29,"i18n",["admin.adplugin.house_ads.title"],null],false],[10],[0,"\\n"],[4,"if",[[25,["model","length"]]],null,{"statements":[[0,"    "],[7,"div"],[11,"class","content-list"],[9],[0,"\\n      "],[7,"div"],[11,"class","house-ads-actions"],[9],[0,"\\n"],[4,"link-to",null,[["class","route","model"],["btn btn-primary","adminPlugins.houseAds.show","new"]],{"statements":[[0,"          "],[1,[29,"d-icon",["plus"],null],false],[0,"\\n          "],[7,"span"],[9],[1,[29,"i18n",["admin.adplugin.house_ads.new"],null],false],[10],[0,"\\n"]],"parameters":[]},null],[4,"link-to",null,[["class","route"],["btn btn-default","adminPlugins.houseAds.index"]],{"statements":[[0,"          "],[1,[29,"d-icon",["cog"],null],false],[0,"\\n          "],[7,"span"],[9],[1,[29,"i18n",["admin.adplugin.house_ads.settings"],null],false],[10],[0,"\\n"]],"parameters":[]},null],[0,"      "],[10],[0,"\\n      "],[7,"ul"],[11,"class","house-ads-list"],[9],[0,"\\n"],[4,"each",[[25,["model"]]],null,{"statements":[[0,"          "],[7,"li"],[11,"class","house-ads-list-item"],[9],[0,"\\n"],[4,"link-to",null,[["route","model"],["adminPlugins.houseAds.show",[24,1,["id"]]]],{"statements":[[0,"              "],[1,[24,1,["name"]],false],[0,"\\n"]],"parameters":[]},null],[0,"          "],[10],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[10],[0,"\\n    "],[10],[0,"\\n"]],"parameters":[]},null],[0,"  "],[1,[23,"outlet"],false],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/admin/plugins-house-ads"}}),Ember.TEMPLATES["javascripts/connectors/topic-above-suggested/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[29,"ad-slot",null,[["placement","refreshOnChange","category"],["topic-above-suggested",[25,["model","id"]],[25,["model","category","slug"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/connectors/topic-above-suggested/discourse-adplugin"}}),Ember.TEMPLATES["javascripts/connectors/discovery-list-container-top/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[29,"ad-slot",null,[["placement","refreshOnChange","category","listLoading"],["topic-list-top",[25,["listLoading"]],[25,["category","slug"]],[25,["listLoading"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/connectors/discovery-list-container-top/discourse-adplugin"}}),Ember.TEMPLATES["javascripts/connectors/post-bottom/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[29,"post-bottom-ad",null,[["model"],[[24,0,[]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/connectors/post-bottom/discourse-adplugin"}}),Ember.TEMPLATES["javascripts/connectors/topic-above-post-stream/discourse-adplugin"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[29,"ad-slot",null,[["placement","refreshOnChange","category"],["topic-above-post-stream",[25,["model","id"]],[25,["model","category","slug"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/connectors/topic-above-post-stream/discourse-adplugin"}}),define("discourse/plugins/discourse-adplugin/initializers/initialize-ad-plugin",["exports","discourse/lib/plugin-api"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"initialize-ad-plugin",initialize:function(e){(0,t.withPluginApi)("0.1",function(e){e.decorateWidget("post:after",function(e){return e.canConnectComponent?e.attrs.cloaked?void 0:e.connect({component:"post-bottom-ad",context:"model"}):e.connect({templateName:"connectors/post-bottom/discourse-adplugin",context:"model"})})});var s=e.lookup("message-bus:main");s&&s.subscribe("/site/house-creatives",function(e){Discourse.Site.currentProp("house_creatives",e)})}}});
//# sourceMappingURL=https://sjc5.discourse-cdn.com/elastic/assets/plugins/discourse-adplugin-6e33d6792de5df7afbacf190d521c19a47393ceaf66e85152fd6473900b81609.js.map