define("discourse/plugins/discourse-saved-searches/discourse/routes/preferences-saved-searches",["exports","discourse/routes/restricted-user"],function(e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s.default.extend({setupController:function(e,s){if(!s.get("savedSearchesAllowed"))return this.transitionTo("preferences.account");e.setProperties({model:s})}})}),define("discourse/plugins/discourse-saved-searches/discourse/discourse-saved-searches-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={resource:"user.preferences",map:function(){this.route("savedSearches",{path:"/saved-searches"})}}}),define("discourse/plugins/discourse-saved-searches/discourse/controllers/preferences-saved-searches",["exports","ember-addons/ember-computed-decorators","discourse/lib/ajax","discourse/lib/ajax-error"],function(e,s,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,n;e.default=Ember.Controller.extend((t=(0,s.default)("model.saved_searches"),n={saving:!1,maxSavedSearches:5,searchStrings:function(){var e=[];for((this.get("model.saved_searches")||[]).forEach(function(s){e.push({query:s})});e.length<this.get("maxSavedSearches");)e.push({query:""});return e},saveButtonText:function(){return this.get("saving")?I18n.t("saving"):I18n.t("save")}.property("saving"),actions:{save:function(){var e=this;this.set("saved",!1);var s=this.get("searchStrings").map(function(e){return e.query?e.query:null}).compact();return this.set("model.saved_searches",s),(0,r.ajax)("/saved_searches",{type:"PUT",dataType:"json",data:{searches:s}}).then(function(s,r){e.set("saved",!0),r&&(0,a.popupAjaxError)(r)})}}},function(e,s,r,a,t){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,s,r)||r},n),t&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(t):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,s,n),n=null),n}(n,"searchStrings",[t],Object.getOwnPropertyDescriptor(n,"searchStrings"),n),n))}),Ember.TEMPLATES["javascripts/preferences/savedSearches"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["search","index"],"statements":[[7,"div"],[11,"class","control-group category-saved-searches"],[9],[0,"\\n  "],[7,"label"],[11,"class","control-label"],[9],[1,[29,"i18n",["saved_searches.title"],null],false],[10],[0,"\\n\\n  "],[7,"label"],[9],[1,[29,"i18n",["saved_searches.description"],[["max"],[[25,["maxSavedSearches"]]]]],false],[10],[0,"\\n\\n  "],[7,"br"],[9],[10],[0,"\\n\\n"],[4,"each",[[25,["searchStrings"]]],null,{"statements":[[0,"    "],[7,"div"],[11,"class","controls saved-searches-controls"],[9],[0,"\\n      "],[1,[29,"input",null,[["type","value","class"],["text",[24,1,["query"]],"input-xxlarge"]]],false],[0,"\\n    "],[10],[0,"\\n"]],"parameters":[1,2]},null],[10],[0,"\\n\\n\\n"],[7,"br"],[9],[10],[0,"\\n"],[7,"div"],[11,"class","control-group save-button"],[9],[0,"\\n  "],[7,"div"],[11,"class","controls"],[9],[0,"\\n    "],[16,"user/preferences/save-button",[]],[0,"\\n  "],[10],[0,"\\n"],[10],[0,"\\n"]],"hasEval":true}',meta:{moduleName:"javascripts/preferences/savedSearches"}}),Ember.TEMPLATES["javascripts/connectors/user-preferences-nav/saved-searches"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[25,["model","savedSearchesAllowed"]]],null,{"statements":[[0,"  "],[4,"link-to",null,[["route"],["preferences.savedSearches"]],{"statements":[[1,[29,"i18n",["saved_searches.title"],null],false]],"parameters":[]},null],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/connectors/user-preferences-nav/saved-searches"}}),define("discourse/plugins/discourse-saved-searches/discourse/initializers/apply-saved-searches",["exports","discourse/lib/plugin-api"],function(e,s){"use strict";function r(e){e.modifyClass("model:user",{savedSearchesAllowed:function(){return Discourse.SiteSettings.saved_searches_enabled&&(this.get("trust_level")>=Discourse.SiteSettings.saved_searches_min_trust_level||this.get("staff"))}.property("trust_level")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"apply-saved-searches",initialize:function(){(0,s.withPluginApi)("0.8.9",r)}}});
//# sourceMappingURL=https://sjc5.discourse-cdn.com/elastic/assets/plugins/discourse-saved-searches-7b66c790370eec0b9502a244fe82220dba2026cd230543d46b07035b625c9dd0.js.map